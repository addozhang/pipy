---
title: "Configuration.fetchHTTP()"
api: Configuration.fetchHTTP()
---

## Description

Appends a **fetchHTTP** filter to the current pipeline layout.

A **fetchHTTP** filter encodes input messages as HTTP requests in a sub-pipeline and decodes HTTP responses out from it. Its input and output are HTTP [Messages](/reference/api/Message). Its sub-pipelines's input and output are [Data](/reference/api/Data) (usually TCP streams).

|          |             |             |          |                |
|---------:|:-----------:|:-----------:|:--------:|:--------------:|
|          | **Message** |             | **Data** |                |
| _Input_  | →           |             | →        |                |
|          |             | `fetchHTTP` |          | `sub-pipeline` |
| _Output_ | ←           |             | ←        |                |
|          | **Message** |             | **Data** |                |

A **fetchHTTP** filter works like this:

- At the input to a **fetchHTTP** filter, HTTP requests are encoded into _Data_ and sent to a sub-pipeline created from the pipeline layout specified in the _layout_ parameter.
- At the output from the sub-pipeline, _Data_ stream (usually a TCP stream) is decoded as HTTP responses and become the filter's output messages

This filter creates its own sub-pipeline, which is not shared with others. Compare this to [muxHTTP()](/reference/api/Configuration/muxHTTP).

## Syntax

``` js
pipy()
  .pipeline('example')
    .fetchHTTP(layout)
```

### Parameters

<Parameters/>

### Return value

<ReturnValue/>

## Example

## See Also

* [Configuration](/reference/api/Configuration)
* [muxHTTP()](/reference/api/Configuration/muxHTTP)
* [serveHTTP()](/reference/api/Configuration/serveHTTP)
